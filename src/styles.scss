/* You can add global styles to this file, and also import other style files */

// VERSÃO CORRIGIDA - Preserva funcionalidade dos selects

// IMPORTANTE: Apenas customiza o datepicker nativo, NÃO interfere com selects

// Reset APENAS do datepicker nativo (que não usamos mais)
.mat-datepicker-content,
.mat-mdc-datepicker-content {
    // Reset completo APENAS para datepicker
    all: initial !important;

    // Rebuild from scratch
    display: block !important;
    position: relative !important;
    background: #ffffff !important;
    border: 1px solid #cccccc !important;
    border-radius: 8px !important;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15) !important;
    font-family: inherit !important;
    font-size: 14px !important;
    color: #333333 !important;
    padding: 0 !important;
    margin: 0 !important;
    width: auto !important;
    height: auto !important;
    opacity: 1 !important;
    transform: none !important;
    z-index: 1003 !important;
}

.mat-calendar,
.mat-mdc-calendar {
    // Reset completo APENAS para calendar
    all: initial !important;

    // Rebuild
    display: block !important;
    position: relative !important;
    background: #ffffff !important;
    width: 280px !important;
    padding: 16px !important;
    font-family: inherit !important;
    color: #333333 !important;
    opacity: 1 !important;
    z-index: 1004 !important;
}

// Header do calendário nativo
.mat-calendar-header,
.mat-mdc-calendar-header {
    all: initial !important;
    display: block !important;
    position: relative !important;
    background: #ffffff !important;
    padding: 0 0 16px 0 !important;
    margin: 0 !important;
    border-bottom: 1px solid #eeeeee !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

.mat-calendar-controls,
.mat-mdc-calendar-controls {
    all: initial !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    width: 100% !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

// Botão do período (mês/ano) do calendário nativo
.mat-calendar-period-button,
.mat-mdc-calendar-period-button {
    all: initial !important;
    display: inline-block !important;
    background: transparent !important;
    border: none !important;
    color: #333333 !important;
    font-size: 16px !important;
    font-weight: bold !important;
    padding: 8px !important;
    cursor: pointer !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

// Botões de navegação do calendário nativo
.mat-calendar-previous-button,
.mat-calendar-next-button,
.mat-mdc-calendar-previous-button,
.mat-mdc-calendar-next-button {
    all: initial !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
    background: #f97316 !important;
    color: #ffffff !important;
    border: none !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    font-family: 'Material Icons' !important;
    font-size: 18px !important;
    margin: 0 4px !important;
    opacity: 1 !important;

    &:hover {
        background: #ea580c !important;
    }

    &::before {
        font-family: 'Material Icons' !important;
    }
}

.mat-calendar-previous-button::before,
.mat-mdc-calendar-previous-button::before {
    content: 'chevron_left' !important;
}

.mat-calendar-next-button::before,
.mat-mdc-calendar-next-button::before {
    content: 'chevron_right' !important;
}

// Conteúdo do calendário nativo
.mat-calendar-content,
.mat-mdc-calendar-content {
    all: initial !important;
    display: block !important;
    background: #ffffff !important;
    padding: 16px 0 0 0 !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

// Tabela do calendário nativo
.mat-calendar-table,
.mat-mdc-calendar-table {
    all: initial !important;
    display: table !important;
    width: 100% !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
    background: #ffffff !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

// Header da tabela (dias da semana) do calendário nativo
.mat-calendar-table-header,
.mat-mdc-calendar-table-header {
    all: initial !important;
    display: table-header-group !important;
    background: #ffffff !important;
    font-family: inherit !important;
    opacity: 1 !important;

    th {
        all: initial !important;
        display: table-cell !important;
        width: 32px !important;
        height: 32px !important;
        text-align: center !important;
        vertical-align: middle !important;
        color: #666666 !important;
        font-size: 12px !important;
        font-weight: bold !important;
        text-transform: uppercase !important;
        padding: 0 !important;
        font-family: inherit !important;
        opacity: 1 !important;
    }
}

// Corpo da tabela do calendário nativo
.mat-calendar-body,
.mat-mdc-calendar-body {
    all: initial !important;
    display: table-row-group !important;
    background: #ffffff !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

.mat-calendar-body-row,
.mat-mdc-calendar-body-row {
    all: initial !important;
    display: table-row !important;
    background: #ffffff !important;
    font-family: inherit !important;
    opacity: 1 !important;
}

// Células do calendário nativo
.mat-calendar-body-cell,
.mat-mdc-calendar-body-cell {
    all: initial !important;
    display: table-cell !important;
    width: 32px !important;
    height: 32px !important;
    text-align: center !important;
    vertical-align: middle !important;
    padding: 2px !important;
    background: #ffffff !important;
    font-family: inherit !important;
    opacity: 1 !important;
    cursor: pointer !important;
}

.mat-calendar-body-cell-content,
.mat-mdc-calendar-body-cell-content {
    all: initial !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 32px !important;
    height: 32px !important;
    border-radius: 50% !important;
    background: transparent !important;
    color: #333333 !important;
    font-size: 14px !important;
    font-weight: normal !important;
    transition: background-color 0.2s ease !important;
    cursor: pointer !important;
    font-family: inherit !important;
    opacity: 1 !important;

    &:hover {
        background: rgba(249, 115, 22, 0.1) !important;
    }
}

// Dia selecionado do calendário nativo
.mat-calendar-body-selected,
.mat-mdc-calendar-body-selected {

    .mat-calendar-body-cell-content,
    .mat-mdc-calendar-body-cell-content {
        background: #f97316 !important;
        color: #ffffff !important;
        font-weight: bold !important;
    }
}

// Dia atual do calendário nativo
.mat-calendar-body-today:not(.mat-calendar-body-selected),
.mat-mdc-calendar-body-today:not(.mat-mdc-calendar-body-selected) {

    .mat-calendar-body-cell-content,
    .mat-mdc-calendar-body-cell-content {
        background: rgba(249, 115, 22, 0.15) !important;
        color: #f97316 !important;
        font-weight: bold !important;
    }
}

// Dias desabilitados do calendário nativo
.mat-calendar-body-disabled,
.mat-mdc-calendar-body-disabled {

    .mat-calendar-body-cell-content,
    .mat-mdc-calendar-body-cell-content {
        color: #cccccc !important;
        cursor: not-allowed !important;

        &:hover {
            background: transparent !important;
        }
    }
}

// ==========================================
// CAMPOS MODERNOS E ARREDONDADOS - GLOBAL
// ==========================================

// Form Fields Modernos (aplicação global)
.mat-mdc-form-field {
    .mdc-notched-outline {
        display: none !important;
    }

    .mat-mdc-form-field-flex {
        background: linear-gradient(145deg, #ffffff, #f8fafc) !important;
        border: 2px solid transparent !important;
        border-radius: 16px !important;
        padding: 1rem !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        box-shadow:
            0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -1px rgba(0, 0, 0, 0.06),
            inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
        position: relative !important;
        overflow: hidden !important;

        // Efeito de glass morphism sutil
        &::before {
            content: '' !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            height: 1px !important;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent) !important;
            opacity: 0.6 !important;
        }

        &:hover {
            border-color: rgba(59, 130, 246, 0.3) !important;
            box-shadow:
                0 8px 25px -8px rgba(59, 130, 246, 0.15),
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
            transform: translateY(-1px) !important;
            background: linear-gradient(145deg, #ffffff, #f1f5f9) !important;
        }
    }

    &.mat-focused .mat-mdc-form-field-flex {
        border-color: #3b82f6 !important;
        box-shadow:
            0 0 0 4px rgba(59, 130, 246, 0.1),
            0 8px 25px -8px rgba(59, 130, 246, 0.25),
            0 4px 6px -1px rgba(0, 0, 0, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
        transform: translateY(-2px) !important;
        background: linear-gradient(145deg, #ffffff, #eff6ff) !important;
    }

    // Labels modernos
    .mat-mdc-form-field-label {
        color: #64748b !important;
        font-weight: 600 !important;
        font-size: 14px !important;
        letter-spacing: 0.025em !important;
        transition: all 0.3s ease !important;
        opacity: 1 !important;
        // FORÇA o label a ficar sempre visível
        transform: translateY(-1.28125em) scale(0.75) !important;
        top: 1.84375em !important;
        left: 0 !important;
        pointer-events: none !important;
    }


    .mat-mdc-form-field.mat-focused .mat-mdc-form-field-label,
    .mat-mdc-form-field.mat-form-field-should-float .mat-mdc-form-field-label {
        color: #3b82f6 !important;
        // Mantém a mesma posição
        transform: translateY(-1.28125em) scale(0.75) !important;
        opacity: 1 !important;
    }

    // Inputs modernos
    .mat-mdc-input-element {
        color: #1e293b !important;
        font-weight: 500 !important;
        font-size: 15px !important;
        padding: 8px 0 !important;
        background: transparent !important;
        border: none !important;
        outline: none !important;

        &::placeholder {
            color: rgba(100, 116, 139, 0.6) !important;
            font-weight: 400 !important;
        }
    }

    // Textarea específico
    textarea.mat-mdc-input-element {
        resize: vertical !important;
        min-height: 80px !important;
        padding: 12px 0 !important;
    }

    // Container interno
    .mat-mdc-form-field-infix {
        padding: 12px 0 !important;
        border-top: none !important;
        min-height: auto !important;
    }

    // Fix específico para o prefixo R$ com design moderno
    .mat-mdc-form-field-text-prefix {
        color: #f97316 !important;
        font-weight: 700 !important;
        margin-right: 12px !important;
        padding: 4px 8px !important;
        background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.05)) !important;
        border-radius: 8px !important;
        font-size: 13px !important;
        letter-spacing: 0.025em !important;
    }

    // Prefixo alternativo (span matPrefix)
    span[matPrefix] {
        color: #f97316 !important;
        font-weight: 700 !important;
        margin-right: 12px !important;
        padding: 4px 8px !important;
        background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.05)) !important;
        border-radius: 8px !important;
        font-size: 13px !important;
        letter-spacing: 0.025em !important;
    }
}

// Select específico com design moderno
.mat-mdc-select {
    .mat-mdc-select-trigger {
        border: none !important;
        background: transparent !important;

        .mat-mdc-select-value {
            color: #1e293b !important;
            font-weight: 500 !important;
            font-size: 15px !important;
        }

        .mat-mdc-select-placeholder {
            color: rgba(100, 116, 139, 0.6) !important;
            font-weight: 400 !important;
        }
    }

    .mat-mdc-select-arrow {
        color: #f97316 !important;
        transition: all 0.3s ease !important;
    }

    &.mat-mdc-select-focused .mat-mdc-select-arrow {
        color: #3b82f6 !important;
        transform: rotate(180deg) !important;
    }
}

// Panel dos selects com design moderno
.mat-mdc-select-panel {
    background: white !important;
    border-radius: 16px !important;
    border: 2px solid rgba(59, 130, 246, 0.1) !important;
    box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
    padding: 8px !important;
    margin-top: 8px !important;
    backdrop-filter: blur(10px) !important;

    .mat-mdc-option {
        border-radius: 12px !important;
        margin: 2px 0 !important;
        padding: 12px 16px !important;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
        font-weight: 500 !important;

        &:hover {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(59, 130, 246, 0.04)) !important;
            transform: translateX(4px) !important;
            color: #3b82f6 !important;
        }

        &.mdc-list-item--selected {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.08)) !important;
            color: #3b82f6 !important;
            font-weight: 600 !important;
            transform: translateX(4px) !important;

            &::before {
                content: '✓' !important;
                margin-right: 8px !important;
                color: #3b82f6 !important;
                font-weight: bold !important;
            }
        }
    }
}

.mat-mdc-dialog-container,
.mat-dialog-container,
.mdc-dialog,
.mdc-dialog__container,
.mdc-dialog__surface {
    all: unset !important;
    display: block !important;
    background: none !important;
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    outline: none !important;
    max-width: none !important;
    max-height: none !important;
}

.cdk-overlay-pane {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
    box-shadow: none !important;
    border-radius: 0 !important;
}

.cdk-overlay-container {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
}